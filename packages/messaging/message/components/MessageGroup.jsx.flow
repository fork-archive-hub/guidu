import React, { Component } from 'react';
import classNames from 'classnames';

import Avatar from '@uidu/avatar';

export default class MessageGroup extends Component {
  static defaultProps = {
    kind: 'message.create',
  };

  state = {
    editing: false,
  };

  render() {
    const { messages, messager, kind, children } = this.props;

    console.log(kind);
    console.log(messages);

    if (kind === 'message.create') {
      return (
        <div className={classNames('position-relative p-3 border-top', {})}>
          <div className="media">
            <Avatar
              src={messager.avatar.thumb}
              name={messager.name}
              withTooltip
            />
            <div className="media-body ml-3" style={{ minWidth: 0 }}>
              <h6 className="text-heavy mb-0">{messager.name}</h6>
              {this.props.children({ messages, messager })}
            </div>
          </div>
        </div>
      );
    }

    return (
      <div className="position-relative py-3 border-top">
        {messages.map(message => (
          <div className="text-center text-muted small">
            {message.messager.name} {message.body}
          </div>
        ))}
      </div>
    );
  }
}
